using System;
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class MalwareChooseHandler : MonoBehaviour
{
    [SerializeField] GameModeSO currentGameMode;
    [SerializeField] BoolVariableSO isFloorCalculationFinish;

    private CharacterStateManager characterStateManager;

    private void Awake()
    {
        characterStateManager = FindObjectOfType<CharacterStateManager>();
    }

    private void Update()
    {
        GetKeyboardInput();
    }

    private void GetKeyboardInput()
    {
        if (!isFloorCalculationFinish.GetValue || currentGameMode.GameMode != GameMode.VirusSelection) return;

        if (Input.GetKeyDown(KeyCode.Alpha1)) characterStateManager.SetMalwareState(1);
        if (Input.GetKeyDown(KeyCode.Alpha2)) characterStateManager.SetMalwareState(2);
        if (Input.GetKeyDown(KeyCode.Alpha3)) characterStateManager.SetMalwareState(3);
    }

    public void SetMalware(int num)
    {
        if (currentGameMode.GameMode != GameMode.VirusSelection) return;
        characterStateManager.SetMalwareState(num);
    }
}
